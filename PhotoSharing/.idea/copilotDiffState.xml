<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/routes/UserRouter.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/routes/UserRouter.js" />
              <option name="originalContent" value="const express = require(&quot;express&quot;);&#10;const mongoose = require(&quot;mongoose&quot;);&#10;const User = require(&quot;../db/userModel&quot;);&#10;const router = express.Router();&#10;&#10;// POST /api/user&#10;// body: { first_name, last_name, location?, description?, occupation? }&#10;router.post(&quot;/&quot;, async (request, response) =&gt; {&#10;  try {&#10;    const { first_name, last_name, location, description, occupation } = request.body || {};&#10;    if (!first_name || !last_name) {&#10;      return response.status(400).json({ message: &quot;first_name and last_name are required&quot; });&#10;    }&#10;    const user = new User({ first_name, last_name, location, description, occupation });&#10;    const saved = await user.save();&#10;    // return only the fields the client should see&#10;    response.json({&#10;      _id: saved._id,&#10;      first_name: saved.first_name,&#10;      last_name: saved.last_name,&#10;      location: saved.location,&#10;      description: saved.description,&#10;      occupation: saved.occupation,&#10;    });&#10;  } catch (err) {&#10;    response.status(500).json({ message: err.toString() });&#10;  }&#10;});&#10;&#10;// GET /api/user&#10;// returns list of users for sidebar: [{ _id, first_name, last_name }, ...]&#10;router.get(&quot;/&quot;, async (request, response) =&gt; {&#10;  try {&#10;    const users = await User.find({}, &quot;_id first_name last_name&quot;).exec();&#10;    response.json(users);&#10;  } catch (err) {&#10;    response.status(500).json({ message: err.toString() });&#10;  }&#10;});&#10;&#10;// GET /api/user/list&#10;// same as GET / but matches lab API&#10;router.get(&quot;/list&quot;, async (req, res) =&gt; {&#10;  try {&#10;    const users = await User.find({}, &quot;_id first_name last_name&quot;).exec();&#10;    res.json(users);&#10;  } catch (err) {&#10;    res.status(500).json({ message: err.toString() });&#10;  }&#10;});&#10;&#10;// GET /api/user/:id&#10;// Returns detailed user {_id, first_name, last_name, location, description, occupation}&#10;router.get(&quot;/:id&quot;, async (req, res) =&gt; {&#10;  const id = req.params.id;&#10;  if (!mongoose.Types.ObjectId.isValid(id)) {&#10;    return res.status(400).json({ message: &quot;Invalid user id&quot; });&#10;  }&#10;  try {&#10;    const user = await User.findById(id, &quot;_id first_name last_name location description occupation&quot;).exec();&#10;    if (!user) return res.status(400).json({ message: &quot;User id not found&quot; });&#10;    res.json(user);&#10;  } catch (err) {&#10;    res.status(500).json({ message: err.toString() });&#10;  }&#10;});&#10;&#10;module.exports = router;" />
              <option name="updatedContent" value="const express = require(&quot;express&quot;);&#10;const mongoose = require(&quot;mongoose&quot;);&#10;const User = require(&quot;../db/userModel&quot;);&#10;const router = express.Router();&#10;&#10;// POST /api/user&#10;// body: { first_name, last_name, location?, description?, occupation? }&#10;router.post(&quot;/&quot;, async (request, response) =&gt; {&#10;  try {&#10;    const { first_name, last_name, location, description, occupation } = request.body || {};&#10;    if (!first_name || !last_name) {&#10;      return response.status(400).json({ message: &quot;first_name and last_name are required&quot; });&#10;    }&#10;    const user = new User({ first_name, last_name, location, description, occupation });&#10;    const saved = await user.save();&#10;    // return only the fields the client should see&#10;    response.json({&#10;      _id: saved._id,&#10;      first_name: saved.first_name,&#10;      last_name: saved.last_name,&#10;      location: saved.location,&#10;      description: saved.description,&#10;      occupation: saved.occupation,&#10;    });&#10;  } catch (err) {&#10;    response.status(500).json({ message: err.toString() });&#10;  }&#10;});&#10;&#10;// GET /api/user&#10;// returns list of users for sidebar: [{ _id, first_name, last_name }, ...]&#10;router.get(&quot;/&quot;, async (request, response) =&gt; {&#10;  try {&#10;    const users = await User.find({}, &quot;_id first_name last_name&quot;).exec();&#10;    response.json(users);&#10;  } catch (err) {&#10;    response.status(500).json({ message: err.toString() });&#10;  }&#10;});&#10;&#10;// GET /api/user/list&#10;// same as GET / but matches lab API&#10;router.get(&quot;/list&quot;, async (req, res) =&gt; {&#10;  try {&#10;    const users = await User.find({}, &quot;_id first_name last_name&quot;).exec();&#10;    res.json(users);&#10;  } catch (err) {&#10;    res.status(500).json({ message: err.toString() });&#10;  }&#10;});&#10;&#10;// GET /api/user/:id&#10;// Returns detailed user {_id, first_name, last_name, location, description, occupation}&#10;router.get(&quot;/:id&quot;, async (req, res) =&gt; {&#10;  const id = req.params.id;&#10;  if (!mongoose.Types.ObjectId.isValid(id)) {&#10;    return res.status(400).json({ message: &quot;Invalid user id&quot; });&#10;  }&#10;  try {&#10;    const user = await User.findById(id, &quot;_id first_name last_name location description occupation&quot;).exec();&#10;    if (!user) return res.status(400).json({ message: &quot;User id not found&quot; });&#10;    res.json(user);&#10;  } catch (err) {&#10;    res.status(500).json({ message: err.toString() });&#10;  }&#10;});&#10;&#10;module.exports = router;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>